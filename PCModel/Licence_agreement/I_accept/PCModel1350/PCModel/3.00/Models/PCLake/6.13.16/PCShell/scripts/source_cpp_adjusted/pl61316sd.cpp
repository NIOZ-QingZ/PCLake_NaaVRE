dDepthW = vTranDepthW + vDeltaW + vDredDepthW;
dNH4W = wNTranNH4W + wNAbioNH4W + wNPrimNH4W + wNBedNH4W + wNWebNH4W + cNBackLoad / sDepthW - aRelDeltaW * sNH4W - wNExchNH4;
dNO3W = wNTranNO3W + wNAbioNO3W + wNPrimNO3W + wNBedNO3W + wNWebNO3W - aRelDeltaW * sNO3W - wNExchNO3;
dPO4W = wPTranPO4W + wPAbioPO4W + wPPrimPO4W + wPBedPO4W + wPWebPO4W + cPBackLoad / sDepthW - aRelDeltaW * sPO4W - wPExchPO4;
dPAIMW = wPTranAIMW + wPAbioAIMW - aRelDeltaW * sPAIMW - wPExchAIM;
dSiO2W = wSiTranSiO2 + wSiAbioSiO2W + wSiPrimSiO2W - aRelDeltaW * sSiO2W - wSiExchSiO2;
dO2W = wO2TranW + wO2AbioW + wO2PrimW + tO2BedW / sDepthW - aRelDeltaW * sO2W - wO2Exch;
dDDetW = wDTranDetW + wDAbioDetW + wDPrimDetW + wDBedDetW + wDWebDetW - aRelDeltaW * sDDetW - wDExchDet;
dNDetW = wNTranDetW + wNAbioDetW + wNPrimDetW + wNBedDetW + wNWebDetW - aRelDeltaW * sNDetW - wNExchDet;
dPDetW = wPTranDetW + wPAbioDetW + wPPrimDetW + wPBedDetW + wPWebDetW - aRelDeltaW * sPDetW - wPExchDet;
dSiDetW = wSiTranDetW + wSiAbioDetW + wSiPrimDetW + wSiWebDetW - aRelDeltaW * sSiDetW - wSiExchDet;
dDIMW = wDTranIMW + wDAbioIMW - aRelDeltaW * sDIMW - wDExchIM;
dDDiatW = wDTranDiat + wDPrimDiatW + wDWebDiatW - aRelDeltaW * sDDiatW - wDExchDiat;
dNDiatW = wNTranDiat + wNPrimDiatW + wNWebDiatW - aRelDeltaW * sNDiatW - wNExchDiat;
dPDiatW = wPTranDiat + wPPrimDiatW + wPWebDiatW - aRelDeltaW * sPDiatW - wPExchDiat;
dDGrenW = wDTranGren + wDPrimGrenW + wDWebGrenW - aRelDeltaW * sDGrenW - wDExchGren;
dNGrenW = wNTranGren + wNPrimGrenW + wNWebGrenW - aRelDeltaW * sNGrenW - wNExchGren;
dPGrenW = wPTranGren + wPPrimGrenW + wPWebGrenW - aRelDeltaW * sPGrenW - wPExchGren;
dDBlueW = wDTranBlue + wDPrimBlueW + wDWebBlueW - aRelDeltaW * sDBlueW - wDExchBlue;
dNBlueW = wNTranBlue + wNPrimBlueW + wNWebBlueW - aRelDeltaW * sNBlueW - wNExchBlue;
dPBlueW = wPTranBlue + wPPrimBlueW + wPWebBlueW - aRelDeltaW * sPBlueW - wPExchBlue;
dDZoo = wDTranZoo + wDWebZoo - aRelDeltaW * sDZoo - wDExchZoo;
dNZoo = wNTranZoo + wNWebZoo - aRelDeltaW * sNZoo - wNExchZoo;
dPZoo = wPTranZoo + wPWebZoo - aRelDeltaW * sPZoo - wPExchZoo;
dDFiAd = tDWebFiAd;
dDFiJv = tDWebFiJv;
dNFiAd = tNWebFiAd;
dNFiJv = tNWebFiJv;
dPFiAd = tPWebFiAd;
dPFiJv = tPWebFiJv;
dDPisc = tDWebPisc;
dNH4S = tNAbioNH4S - tNBurNH4 + tNPrimNH4S + tNBedNH4S + tNWebNH4S;
dNO3S = tNAbioNO3S - tNBurNO3 + tNPrimNO3S + tNBedNO3S + tNWebNO3S;
dPO4S = tPAbioPO4S - tPBurPO4 + tPPrimPO4S + tPBedPO4S + tPWebPO4S;
dPAIMS = tPAbioAIMS - tPBurAIM - tPDredAIMS;
dDDetS = tDAbioDetS - tDBurDet + tDPrimDetS + tDBedDetS + tDWebDetS - tDDredDetS;
dNDetS = tNAbioDetS - tNBurDet + tNPrimDetS + tNBedDetS + tNWebDetS - tNDredDetS;
dPDetS = tPAbioDetS - tPBurDet + tPPrimDetS + tPBedDetS + tPWebDetS - tPDredDetS;
dSiDetS = tSiAbioDetS - tSiBurDet + tSiPrimDetS + tSiWebDetS - tSiDredDetS;
dDHumS = tDAbioHumS - tDBurHum - tDDredNetHumS;
dNHumS = tNAbioHumS - tNBurHum - tNDredNetHumS;
dPHumS = tPAbioHumS - tPBurHum - tPDredNetHumS;
dDIMS = tDAbioIMS - tDBurIM - tDDredNetIMS;
dDDiatS = tDPrimDiatS + tDWebDiatS - tDDredDiatS;
dNDiatS = tNPrimDiatS + tNWebDiatS - tNDredDiatS;
dPDiatS = tPPrimDiatS + tPWebDiatS - tPDredDiatS;
dDGrenS = tDPrimGrenS + tDWebGrenS - tDDredGrenS;
dNGrenS = tNPrimGrenS + tNWebGrenS - tPDredGrenS;
dPGrenS = tPPrimGrenS + tPWebGrenS - tPDredGrenS;
dDBlueS = tDPrimBlueS + tDWebBlueS - tDDredBlueS;
dNBlueS = tNPrimBlueS + tNWebBlueS - tNDredBlueS;
dPBlueS = tPPrimBlueS + tPWebBlueS - tPDredBlueS;
dDVeg = tDBedVeg - tDDredVeg;
dNVeg = tNBedVeg - tNDredVeg;
dPVeg = tPBedVeg - tPDredVeg;
dDBent = tDWebBent - tDDredBent;
dNBent = tNWebBent - tNDredBent;
dPBent = tPWebBent - tPDredBent;
dDepthWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN vTranDepthW + vDeltaWM ELSE 0.0 ENDIF;
dNH4WM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tNDifNH4M/sDepthWM - wNNitrWM + wNMinDetWM - tNEvNH4WM/sDepthWM - tNInfNH4WM/sDepthWM + wNExchNH4M - aRelDeltaWM * sNH4WM ELSE 0.0 ENDIF;
dNO3WM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tNDifNO3M/sDepthWM + wNNitrWM - wNDenitWM - tNEvNO3WM/sDepthWM - tNInfNO3WM/sDepthWM + wNExchNO3M - aRelDeltaWM * sNO3WM ELSE 0.0 ENDIF;
dPO4WM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN - tPInfPO4WM / sDepthWM + tPDifPO4M / sDepthWM + wPMinDetWM - tPEvPO4WM / sDepthWM - wPSorpIMWM + wPExchPO4M - aRelDeltaWM * sPO4WM ELSE 0.0 ENDIF;
dPAIMWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN - tPSetAIMM / sDepthWM + wPSorpIMWM + wPExchAIMM - aRelDeltaWM * sPAIMWM ELSE 0.0 ENDIF;
dSiO2WM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wSiMinDetWM + tSiMinDetSM / sDepthWM + wSiExchSiO2M - aRelDeltaWM * sSiO2WM ELSE 0.0 ENDIF;
dO2WM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tO2AerM / sDepthWM - wO2MinDetWM - wO2NitrWM -(tO2MinDetSM + tO2NitrSM) / sDepthWM + wO2ExchM - aRelDeltaWM * sO2WM ELSE 0.0 ENDIF;
dDDetWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tDMortShootPhra/sDepthWM - tDSetDetM/sDepthWM - wDMinDetWM + wDExchDetM - aRelDeltaWM * sDDetWM ELSE 0.0 ENDIF;
dNDetWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tNMortShootPhra / sDepthWM - tNSetDetM / sDepthWM - wNMinDetWM + wNExchDetM - aRelDeltaWM * sNDetWM ELSE 0.0 ENDIF;
dPDetWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tPMortShootPhra / sDepthWM - tPSetDetM / sDepthWM - wPMinDetWM + wPExchDetM - aRelDeltaWM * sPDetWM ELSE 0.0 ENDIF;
dSiDetWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN - tSiSetDetM / sDepthWM - wSiMinDetWM + wSiExchDetM - aRelDeltaWM * sSiDetWM ELSE 0.0 ENDIF;
dDIMWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN - tDSetIMM/sDepthWM + wDExchIMM - aRelDeltaWM * sDIMWM ELSE 0.0 ENDIF;
dDDiatWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wDExchDiatM - tDSetDiatM / sDepthWM - aRelDeltaWM * sDDiatWM ELSE 0.0 ENDIF;
dNDiatWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wNExchDiatM - tNSetDiatM / sDepthWM - aRelDeltaWM * sNDiatWM ELSE 0.0 ENDIF;
dPDiatWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wPExchDiatM - tPSetDiatM / sDepthWM - aRelDeltaWM * sPDiatWM ELSE 0.0 ENDIF;
dDGrenWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wDExchGrenM - tDSetGrenM / sDepthWM - aRelDeltaWM * sDGrenWM ELSE 0.0 ENDIF;
dNGrenWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wNExchGrenM - tNSetGrenM / sDepthWM - aRelDeltaWM * sNGrenWM ELSE 0.0 ENDIF;
dPGrenWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wPExchGrenM - tPSetGrenM / sDepthWM - aRelDeltaWM * sPGrenWM ELSE 0.0 ENDIF;
dDBlueWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wDExchBlueM - tDSetBlueM / sDepthWM - aRelDeltaWM * sDBlueWM ELSE 0.0 ENDIF;
dNBlueWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wNExchBlueM - tNSetBlueM / sDepthWM - aRelDeltaWM * sNBlueWM ELSE 0.0 ENDIF;
dPBlueWM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN wPExchBlueM - tPSetBlueM / sDepthWM - aRelDeltaWM * sPBlueWM ELSE 0.0 ENDIF;
dDZooM = IF (FALSE EQ InclMarsh OR fMarsh LE NearZero) THEN 0.0 ELSEIF (InclWeb EQ TRUE) THEN wDExchZooM - aRelDeltaWM * sDZooM ELSE 0.0 ENDIF;
dNZooM = IF (FALSE EQ InclMarsh OR fMarsh LE NearZero) THEN 0.0 ELSEIF (InclWeb EQ TRUE) THEN wNExchZooM - aRelDeltaWM * sNZooM ELSE 0.0 ENDIF;
dPZooM = IF (FALSE EQ InclMarsh OR fMarsh LE NearZero) THEN 0.0 ELSEIF (InclWeb EQ TRUE) THEN wPExchZooM - aRelDeltaWM * sPZooM ELSE 0.0 ENDIF;
dNH4SM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tNInfNH4WM - tNInfNH4SM +(1.0-fRefrDetS) * tNMinDetSM + tNMinHumSM - tNDifNH4M - tNDifGroundNH4M - tNNitrSM - tNBurNH4M - tNUptNH4PhraS + tNEvNH4WM ELSE 0.0 ENDIF;
dNO3SM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tNInfNO3WM - tNInfNO3SM + tNNitrSM - tNDenitSM - tNDifNO3M - tNDifGroundNO3M - tNBurNO3M - tNUptNO3PhraS + tNEvNO3WM ELSE 0.0 ENDIF;
dPO4SM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tPInfPO4WM - tPInfPO4SM + tPEvPO4WM +(1.0-fRefrDetS) * tPMinDetSM + tPMinHumSM - tPSorpIMSM - tPDifPO4M - tPDifGroundPO4M - tPChemPO4M - tPUptPhraS - tPBurPO4M ELSE 0.0 ENDIF;
dPAIMSM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tPSetAIMM - tPBurAIMM + tPSorpIMSM ELSE 0.0 ENDIF;
dDDetSM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tDMortRootPhra + tDSetDetM - tDMinDetSM + tDSetPhytM - tDBurDetM ELSE 0.0 ENDIF;
dNDetSM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tNMortRootPhra + tNSetDetM - tNMinDetSM + tNSetPhytM - tNBurDetM ELSE 0.0 ENDIF;
dPDetSM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tPMortRootPhra + tPSetDetM - tPMinDetSM + tPSetPhytM - tPBurDetM ELSE 0.0 ENDIF;
dSiDetSM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tSiSetDetM - tSiMinDetSM + cSiDDiat * tDSetDiatM - tSiBurDetM ELSE 0.0 ENDIF;
dDHumSM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN fRefrDetS * tDMinDetSM - tDMinHumSM - tDBurHumM ELSE 0.0 ENDIF;
dNHumSM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN fRefrDetS * tNMinDetSM - tNMinHumSM - tNBurHumM ELSE 0.0 ENDIF;
dPHumSM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN fRefrDetS * tPMinDetSM - tPMinHumSM - tPBurHumM ELSE 0.0 ENDIF;
dDIMSM = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tDSetIMM - tDBurIMM ELSE 0.0 ENDIF;
dDRootPhra = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tDProdRootPhra - tDRespRootPhra - tDMortRootPhra - tDAllPhra + tDRealPhra ELSE 0.0 ENDIF;
dDShootPhra = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tDProdShootPhra - tDRespShootPhra - tDMortShootPhra + tDAllPhra - tDRealPhra - tDManShootPhra ELSE 0.0 ENDIF;
dNRootPhra = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tNUptRootPhra - tNMortRootPhra - tNTransPhra + tNRetrPhra ELSE 0.0 ENDIF;
dNShootPhra = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tNUptShootPhra - tNMortShootPhra + tNTransPhra - tNRetrPhra - tNManShootPhra ELSE 0.0 ENDIF;
dPRootPhra = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tPUptRootPhra - tPMortRootPhra - tPTransPhra + tPRetrPhra ELSE 0.0 ENDIF;
dPShootPhra = IF (InclMarsh EQ TRUE AND fMarsh GT NearZero) THEN tPUptShootPhra - tPMortShootPhra + tPTransPhra - tPRetrPhra - tPManShootPhra ELSE 0.0 ENDIF;
dDExtTotT = uDLoad - wDOutflTot*sDepthW + wDTranZoo * sDepthW - tDBurTot + tDAbioTotT + tDPrimTotT + tDBedTotT + tDWebTotT + tDMarsTotT - tDDredNetTot;
dNExtTotT = uNLoad - wNOutflTot * sDepthW + wNTranZoo * sDepthW + cNBackLoad - tNBurTot + tNAbioTotT + tNPrimTotT + tNBedTotT + tNWebTotT + tNMarsTotT - tNDredNetTot;
dPExtTotT = uPLoad - wPOutflTot * sDepthW + wPTranZoo * sDepthW + cPBackLoad - tPBurTot + tPAbioTotT + tPPrimTotT + tPBedTotT + tPWebTotT + tPMarsTotT - tPDredNetTot;
dSiExtTotT = uSiLoad - wSiDilTot*sDepthW + tSiAbioTotT - tSiBurTot + tSiPrimTotT + tSiMarsTotT - tSiDredTot;
